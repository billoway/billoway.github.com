<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>在Mac上安装Linux必须提前了解的知识 | 点滴</title>
  <meta name="author" content="billoway">
  
  <meta name="description" content="billoway">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="在Mac上安装Linux必须提前了解的知识"/>
  <meta property="og:site_name" content="点滴"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/blog/favicon.png" rel="icon">
  <link rel="alternate" href="/blog/atom.xml" title="点滴" type="application/atom+xml">
  <link rel="stylesheet" href="/blog/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/blog/">点滴</a></h1>
  <h2><a href="/blog/">写生活、记工作</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2012-11-15T05:30:00.000Z"><a href="/blog/Mac-install-Linux.html/">Nov 15 2012</a></time>
      
      
  
    <h1 class="title">在Mac上安装Linux必须提前了解的知识</h1>
  

    </header>
    <div class="entry">
      
        <p>首先，尽管苹果已经改用 intel 的芯片，但是硬件上和 PC 还有一个重要的差别，就是苹果并没有 BIOS。苹果已经使用了 EFI，而 PC 还停留在老掉牙的 BIOS。 Ubuntu/Windows 还是需要 BIOS 的，于是苹果在 EFI 的固件里模拟了一个 BIOS 来照顾后进的 Windows。boot camp 出来之前的机器，需要下载安装 EFI 的固件更新来制造这个假 BIOS，现在卖的机器都已经是现成的了。<a name="more"></a>这个假 BIOS 基本上能很好地工作，但是功能十分简单，最大的问题是它不支持从外置硬盘启动需要 BIOS 的操作系统，这基本上就是说你能从外置硬盘启动的操作系统只有 Mac OS X，（他是从 EFI 启动的）如果要从外置硬盘启动 ubuntu，你必须把 GRUB 留在内置硬盘里。也许某一天苹果会发布 EFI 的固件更新程序来增强这个假 BIOS 的功能，也许永远也不会，因为 Linux/Windows 应该在不久的将来也要转向 EFI. 对于 Linux 来说，
等到 grub2 发布的时候，就能直接从 EFI 来启动了。长角牛曾经许诺说要支持 EFI, 但是到了 vista 发布的时候并没有实现这个功能。</p>
<p>其次，苹果和 PC 还有一个重大不同，就是磁盘分区。苹果的分区表已经是 GPT，他可以有最多 128 个分区。而 PC 的分区表大多还是老式的 MBR 分区表，最多可以有 4 个主分区。为了在苹果上装 windows/linux，苹果可以把这个磁盘做成既有 GPT 分区表，同时又有 MBR 分区表，就是所谓的 GPT/MBR hybrid。事实上只要磁盘上存在一个 FAT32/NTFS 分区，苹果就会自动生成一个 MBR 分区表，分区表的内容是 GPT 表里的头四个分区。一个 GPT 磁盘里是不存在 MBR 式磁盘的扩展分区和逻辑分区的，就是说他的 MBR 表里只能有四个分区，全部是主分区。第五个分区之后的部分，在 MBR 表里看不到，显示为未使用空间。而第一个分区 (系统自动生成，200 兆的隐藏小分区) 已经被 EFI 征用，是动不得的。因此 windows 最多只能有 3 个分区。Vista 曾经号称会支持 GPT, 结果也是还没有实现。Linux 完全知道如何使用 GPT 磁盘，可以把 linux 分区放在第五个以后，把前面的都留给 windows。目前唯一的障碍是 grub 还只认得 MBR 分区表。在 grub2 出来以后就可以使用纯粹的 GPT 磁盘了。当然你也可以开个小小的历史倒车，把磁盘变成纯粹的 MBR 磁盘，继续使用扩展分区和逻辑盘符，但是有两个问题, 一个是不能重装 Mac OS X, OS X 安装后可以运行在 MBR 磁盘上，但是安装的时候只认 GPT，你只好把整个磁盘抹掉。当然如果你不要 OS X，单装 ubuntu 是没有问题的。另一个是不能做 EFI 固件更新。</p>
<p>这种 GPT/MBR 的混杂有时候是很讨厌的，你必须确保两个分区表是一致的，因为虽然分区表有两套，数据却只可能有一份，每一个分区在两套分区表里的起始和终点应该一样，类型也应当一致。所以永远不要在 windows 底下做有关分区的操作，比如用 partition magic 之类的软件，他改了 MBR 分区表而 GPT 表没动，结果就乱了。应该在 OS X 底下用苹果的磁盘工具，他会同时照顾好 GPT 和 MBR。Ubuntu 7.10 可以很好地对付 GPT/MBR 混合磁盘，不幸的是如果你在 8.04 底下修改分区的话他只要发现 GPT 分区表存在就会把 MBR 表干掉，好像不能容忍他们同时存在似的，可惜 grub 又需要 MBR 分区表，结果是很多人安装完 8.04 后就发现 ubuntu 启动不了，而且 windows 也同时启动不了了。如果遇到这个情况，不要紧张，只要在 OS X 底下把 MBR 分区表从 GPT 表里抄写过来就可以了，就是做一个所谓 GPT/MBR 同步，重建 MBR 分区表。这个问题已经被列为 8.04 的 bug，应该在下一个发行版里就不会再出现了。</p>
<p>除此之外，英特尔心的苹果和其它 PC 应该没有什么本质上的区别了。总结就是，Mac 和 PC 的两个小差别基本是 Mac 超前而 PC 落后一点的差别。EFI/GPT 也是 PC 明天的方向。而今天为了兼容旧的东西会有一点点小麻烦但只要你有这些背景的了解就都可以避免。</p>
<p>转载自：<a href="http://www.linuxdiyf.com/viewarticle.php?id=109212"><a href="http://www.linuxdiyf.com/viewarticle.php?id=109212">http://www.linuxdiyf.com/viewarticle.php?id=109212</a></a></p>

      
    </div>
    <footer>
      
        
        
        
  <div class="addthis addthis_toolbox addthis_default_style">
    
    
    
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:billoway.tk">
  </form>
</div>

  

  

  

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2013 billoway
  
</div>
<div class="clearfix"></div></footer>
  <script src="/blog/js/jquery.imagesloaded.min.js"></script>
<script src="/blog/js/gallery.js"></script>




</body>
</html>